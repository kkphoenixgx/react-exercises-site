"use strict";(self.webpackChunkreact_app_exemple=self.webpackChunkreact_app_exemple||[]).push([[910],{5910:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var n=s(3433),r=s(4165),o=s(5861),a=s(5671),c=s(3144),l=s(136),p=s(7277),i=s(2791),u=s(184),h=function(t){var e=t.cover,s=t.title,n=t.body;return(0,u.jsxs)("div",{className:"post",children:[(0,u.jsx)("img",{src:e,alt:s}),(0,u.jsxs)("div",{className:"post-content",children:[(0,u.jsx)("h3",{children:s}),(0,u.jsx)("p",{children:n})]})]})},d=s(1413),f=s(9439),v=function(){var t=(0,o.Z)((0,r.Z)().mark((function t(){var e,s,n,o,a,c,l,p,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=fetch("https://jsonplaceholder.typicode.com/posts"),s=fetch("https://jsonplaceholder.typicode.com/photos"),t.next=4,Promise.all([e,s]);case 4:return n=t.sent,o=(0,f.Z)(n,2),a=o[0],c=o[1],t.next=10,a.json();case 10:return l=t.sent,t.next=13,c.json();case 13:return p=t.sent,i=l.map((function(t,e){var s=p[e].url.replace("https://via.placeholder.com","https://picsum.photos/seed").split("/"),n=s[s.length-1],r=s[s.length-2];return s[s.length-1]=r,s[s.length-2]=n,(0,d.Z)((0,d.Z)({},t),{},{cover:s.join("/")})})),t.abrupt("return",i);case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(t){return(0,u.jsx)("button",{className:"postsButton",onClick:t.callback,children:t.text})},m=function(t){(0,l.Z)(s,t);var e=(0,p.Z)(s);function s(){var t;(0,a.Z)(this,s);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return(t=e.call.apply(e,[this].concat(l))).state={posts:[],allPosts:[],page:0,postsPerPage:10},t.loadPosts=(0,o.Z)((0,r.Z)().mark((function e(){var s,n,o,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.state,n=s.page,o=s.postsPerPage,e.next=3,v();case 3:a=e.sent,t.setState({posts:a.slice(n,o),allPosts:a});case 5:case"end":return e.stop()}}),e)}))),t.loadMorePosts=function(){var e=t.state,s=e.posts,r=e.allPosts,o=e.postsPerPage,a=e.page+o,c=r.slice(a,a+o);s.push.apply(s,(0,n.Z)(c)),t.setState({posts:s,page:a})},t}return(0,c.Z)(s,[{key:"componentDidMount",value:function(){this.loadPosts()}},{key:"render",value:function(){var t=this.state.posts;return(0,u.jsxs)("section",{className:"react-exerciseOne-container",children:[(0,u.jsx)("h2",{children:"Fetch posts from json api 2025-02-03 "}),(0,u.jsx)("div",{className:"posts",children:t.map((function(t){return(0,u.jsx)(h,{cover:t.cover,title:t.title,id:t.id,body:t.body},t.id)}))}),(0,u.jsx)(x,{text:"More Posts!",callback:this.loadMorePosts})]})}}]),s}(i.Component)}}]);
//# sourceMappingURL=910.8fe94192.chunk.js.map